\hypertarget{classmqtt__api__v2}{}\doxysection{mqtt\+\_\+api\+\_\+v2 Class Reference}
\label{classmqtt__api__v2}\index{mqtt\_api\_v2@{mqtt\_api\_v2}}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classmqtt__api__v2_ace94088b4ff4413a39681aae96195846}\label{classmqtt__api__v2_ace94088b4ff4413a39681aae96195846}} 
{\bfseries mqtt\+\_\+api\+\_\+v2} (const std\+::string \&uri=G\+L\+O\+B\+A\+L\+\_\+\+M\+Q\+T\+T\+\_\+\+S\+E\+R\+V\+ER)
\item 
general\+\_\+err\+\_\+t \mbox{\hyperlink{classmqtt__api__v2_a79abe54e368291411baee0ea8af9ec61}{publish}} (const std\+::string \&topic, const std\+::string \&payload)
\begin{DoxyCompactList}\small\item\em function to publish a topic to the mqtt server, with a given payload \end{DoxyCompactList}\item 
\mbox{\hyperlink{classFreeRTOS_1_1Semaphore}{Free\+R\+T\+O\+S\+::\+Semaphore}} $\ast$ \mbox{\hyperlink{classmqtt__api__v2_a715a76e8316e1c65539eb91a80a0397f}{subscribe}} (const std\+::string \&topic)
\begin{DoxyCompactList}\small\item\em function to subscribe to a given topic from the mqtt server \end{DoxyCompactList}\item 
general\+\_\+err\+\_\+t \mbox{\hyperlink{classmqtt__api__v2_abf4254776349a3a332625bbcc4cb699c}{get\+Data}} (std\+::string $\ast$str)
\begin{DoxyCompactList}\small\item\em get the recived data from the subscribtion \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classmqtt__api__v2_abf4254776349a3a332625bbcc4cb699c}\label{classmqtt__api__v2_abf4254776349a3a332625bbcc4cb699c}} 
\index{mqtt\_api\_v2@{mqtt\_api\_v2}!getData@{getData}}
\index{getData@{getData}!mqtt\_api\_v2@{mqtt\_api\_v2}}
\doxysubsubsection{\texorpdfstring{getData()}{getData()}}
{\footnotesize\ttfamily general\+\_\+err\+\_\+t mqtt\+\_\+api\+\_\+v2\+::get\+Data (\begin{DoxyParamCaption}\item[{std\+::string $\ast$}]{str }\end{DoxyParamCaption})}



get the recived data from the subscribtion 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em std\+::string} & $\ast$ str \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
general\+\_\+err\+\_\+t 
\end{DoxyReturn}
\mbox{\Hypertarget{classmqtt__api__v2_a79abe54e368291411baee0ea8af9ec61}\label{classmqtt__api__v2_a79abe54e368291411baee0ea8af9ec61}} 
\index{mqtt\_api\_v2@{mqtt\_api\_v2}!publish@{publish}}
\index{publish@{publish}!mqtt\_api\_v2@{mqtt\_api\_v2}}
\doxysubsubsection{\texorpdfstring{publish()}{publish()}}
{\footnotesize\ttfamily general\+\_\+err\+\_\+t mqtt\+\_\+api\+\_\+v2\+::publish (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{topic,  }\item[{const std\+::string \&}]{payload }\end{DoxyParamCaption})}



function to publish a topic to the mqtt server, with a given payload 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em const} & std\+::string\& topic \\
\hline
\mbox{\texttt{ in}}  & {\em const} & std\+::string\& payload \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
general\+\_\+err\+\_\+t 
\end{DoxyReturn}
\mbox{\Hypertarget{classmqtt__api__v2_a715a76e8316e1c65539eb91a80a0397f}\label{classmqtt__api__v2_a715a76e8316e1c65539eb91a80a0397f}} 
\index{mqtt\_api\_v2@{mqtt\_api\_v2}!subscribe@{subscribe}}
\index{subscribe@{subscribe}!mqtt\_api\_v2@{mqtt\_api\_v2}}
\doxysubsubsection{\texorpdfstring{subscribe()}{subscribe()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classFreeRTOS_1_1Semaphore}{Free\+R\+T\+O\+S\+::\+Semaphore}} $\ast$ mqtt\+\_\+api\+\_\+v2\+::subscribe (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{topic }\end{DoxyParamCaption})}



function to subscribe to a given topic from the mqtt server 

\begin{DoxyAttention}{Attention}
the user can use the returned semaphore to look for new data if the semaphore is release at some point, it means that new data has arrived. (used for blocking) 
\end{DoxyAttention}

\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em const} & std\+::string\& topic \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{classFreeRTOS_1_1Semaphore}{Free\+R\+T\+O\+S\+::\+Semaphore}}$\ast$
\end{DoxyReturn}
\begin{DoxyAttention}{Attention}
T\+H\+IS IS A S\+I\+N\+G\+L\+E\+T\+ON F\+U\+N\+C\+T\+I\+ON W\+I\+TH O\+NE (1) S\+U\+B\+S\+C\+R\+I\+B\+ER U\+N\+IT
\end{DoxyAttention}

\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em } & \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
Protocols/\+M\+Q\+T\+T/include/mqtt\+\_\+api\+\_\+v2.\+hpp\item 
Protocols/\+M\+Q\+T\+T/src/mqtt\+\_\+api\+\_\+v2.\+cpp\end{DoxyCompactItemize}
